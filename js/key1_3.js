var focusDires=new Array();var btn={id:"",name:"",enFocus:true,focusImage:"",clickHandler:"",left:"",leftOther:"",right:"",rightOther:"",up:"",upOther:"",down:"",downOther:"",other:"",gbWidth:0,gbHeight:0,focusType:8,handImgSrc:"",handWidth:0,handHeight:0,TempData:null,upEvent:"",rightEvent:"",downEvent:"",leftEvent:"",otherFocusEvent:"",otherBlurEvent:"",tweenSpeed:10,selectBorderId:""};var PAGE={userid:"",gold:"",pagenum:1,path:"http://218.2.101.90:8000/sdmeps/",pagesize:"",totalnum:"",totalpage:"",appName:CT.getBrowser(),backurl:"",handid:"hand",focusType:3,handimgid:"handimg",handimgwidth:"",handimgheight:"",handimgsrc1:"",handimgsrc2:"",focusArr:null,gbInterval:null,gdDire:"down",debug:true,displayDire:false,tweenTableMinWidth:67,tweenTableMinHeight:69,intervalArr:new Array(),};var BOX={OK:"",UP:"",DOWN:"",LEFT:"",RIGHT:"",PAGEUP:"",PAGEDOWN:"",BACK:"",ZERO:"",ONE:"",TWO:"",THREE:"",FOUR:"",FIVE:"",SIX:"",SEVEN:"",EIGHT:"",NINE:""};var HW={OK:13,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,PAGEUP:33,PAGEDOWN:34,BACK:8,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:1131};var NJGD={BACK_PAGE:640,HOME_PAGE:113,OUT_PAGE:114};var ZTE={OK:13,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,PAGEUP:301,PAGEDOWN:302,BACK:126,LEFT:271,UP:269,RIGHT:272,DOWN:270,VolumeQuiet:261,VolumeUp:259,VolumeDown:260};var YX={OK:273,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,PAGEUP:120,PAGEDOWN:121,BACK:122,LEFT:29,UP:28,RIGHT:30,DOWN:31,F4:99,EXIT:114};var DaHua={OK:273,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,PAGEUP:372,PAGEDOWN:373,BACK:340,LEFT:3,UP:1,RIGHT:4,DOWN:2,EXIT:339};var JiuZhou={OK:13,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,BACK:283,BACKMAIN:513,LEFT:37,UP:38,RIGHT:39,DOWN:40};var ChangHong={OK:13,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,BACK:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGEUP:33,PAGEDOWN:34};var GzAndroid={OK:13,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,BACK:8,RETURN:640,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGEUP:33,PAGEDOWN:34};var GZGD={BACK:640,RETURN:113,BACKMAIN:114};function changeNum(num){}document.onkeydown=keyDownEvent1;function keyDownEvent1(evt){var keyCode1=CT.keyCode(evt);var keyName=getKeyCodeName(keyCode1);switch(keyName){case"ZERO":changeNum("0");break;case"ONE":changeNum("1");break;case"TWO":changeNum("2");break;case"THREE":changeNum("3");break;case"FOUR":changeNum("4");break;case"FIVE":changeNum("5");break;case"SIX":changeNum("6");break;case"SEVEN":changeNum("7");break;case"EIGHT":changeNum("8");break;case"NINE":changeNum("9");break;case"UP":case"DOWN":case"LEFT":case"RIGHT":focusHand(keyName);break;case"OK":curFocus.OK();break;case"BACK":case"BACK_PAGE":backfunc();break;case"HOME_PAGE":backfunc();break;default:break}}function getKeyCodeName(keyCode){for(var item in NJGD){if(NJGD[item]==keyCode){return item}}for(var item in HW){if(HW[item]==keyCode){return item}}for(var item in JiuZhou){if(JiuZhou[item]==keyCode){return item}}for(var item in ChangHong){if(ChangHong[item]==keyCode){return item}}for(var item in ZTE){if(ZTE[item]==keyCode){return item}}for(var item in YX){if(YX[item]==keyCode){return item}}for(var item in DaHua){if(DaHua[item]==keyCode){return item}}for(var item in GzAndroid){if(GzAndroid[item]==keyCode){return item}}for(var item in GZGD){if(GZGD[item]==keyCode){return item}}}function focusHand(direType){if(PAGE.displayDire==false){switch(direType){case"UP":upFocusObj();break;case"DOWN":downFocusObj();break;case"LEFT":leftFocusObj();break;case"RIGHT":rightFocusObj();break;default:break}}}function FunCoo(_x,_y){this.x=_x;this.y=_y}function distanceCAL(_coo1,_coo2){var x1=_coo1.x;var y1=_coo1.y;var x2=_coo2.x;var y2=_coo2.y;var calX=x2-x1;var calY=y2-y1;return Math.round(Math.pow(calX*calX+calY*calY,0.5))}function rightFocusObj(){var bl=true;for(var it in focusDires){if(curFocus.FocusID==it){var d=focusDires[it];if(!CT.isnull(d.rightEvent)){exeCode(d.rightEvent);bl=false;return}else{if(!CT.isnull(d.right)){if(d.right=="disable"){bl=false;return}var nextNode=getModelByFocusId(d.right);if(nextNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}else{if(nextNode.enFocus==false&&!CT.isnull(d.rightOther)){var otherNode=getModelByFocusId(d.rightOther);if(otherNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=otherNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}}}}else{if(!CT.isnull(d.other)){if(d.other=="disable"){bl=false;return}var nextNode=getModelByFocusId(d.other);if(nextNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}}}}}}if(bl){var curNode=null;for(var i=0;i<PAGE.focusArr.length;i++){if(curFocus.FocusID==PAGE.focusArr[i].id){curNode=PAGE.focusArr[i];
break}}var x=parseInt(curNode.style.left);var y=parseInt(curNode.style.top);var curPar=curFocus.ParentNode;if(!CT.isnull(curPar)){x=x+parseInt(curPar.style.left);y=y+parseInt(curPar.style.top)}var curCoo=new FunCoo(x,y);var upNodeArr=new Array();for(var i=0;i<PAGE.focusArr.length;i++){var j=PAGE.focusArr[i];var top=parseInt(j.style.top);var left=parseInt(j.style.left);var npar=j.focusmodel.ParentNode;if(!CT.isnull(npar)){left=left+parseInt(npar.style.left);top=top+parseInt(npar.style.top)}if(j.focusmodel.enFocus==true&&left>x){upNodeArr.push(j)}}var nextNode=null;var maxNextNode=null;var bl=true;var minjl=0;var maxjl=0;if(upNodeArr.length>0){for(var i=0;i<upNodeArr.length;i++){var nextCoo=new FunCoo(parseInt(upNodeArr[i].style.left),parseInt(upNodeArr[i].style.top));var jl=distanceCAL(curCoo,nextCoo);if(bl){minjl=jl;maxjl=jl;nextNode=upNodeArr[i];maxNextNode=upNodeArr[i];bl=false}if(jl<minjl){nextNode=upNodeArr[i];minjl=jl}if(jl>maxjl){maxNextNode=upNodeArr[i];maxjl=jl}}curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode.focusmodel;curFocus.lastFocusId=fid;curFocus.defaultFocus()}}}function focusInit(){var divs=document.getElementsByTagName("div");PAGE.focusArr=new Array();for(var i=0;i<divs.length;i++){var cur=divs[i];if(cur.id){if(cur.id.indexOf("hands")>-1){var model=new FocusModel();model.FocusID=cur.id+"";var coo=getCoo(cur.id);model.X_Posi=coo.x;model.Y_Posi=coo.y;if(!CT.isnull(coo.parentNode)&&!CT.isnull(CT.$(coo.parentNode))){model.ParentNode=CT.$(coo.parentNode)}model.ImgID=coo.imgsrc;if(!CT.isnull(CT.$(model.ImgID))){model.oldSwap=CT.$(model.ImgID).src}if(!CT.isnull(PAGE.handimgsrc1)){model.handImgSrc=PAGE.handimgsrc1}var b=null;for(var bt in buttons){if(!CT.isnull(buttons[bt])){var bb=buttons[bt];if(bb.id==cur.id){b=bb;break}}}if(!CT.isnull(b)){if(!CT.isnull(b.id)){if((b.enFocus+"")=="true"||(b.enFocus+"")=="false"){model.enFocus=b.enFocus}if(!CT.isnull(b.clickHandler)){model.EventUrl=b.clickHandler}if(!CT.isnull(b.focusImage)){model.ImgSwap=b.focusImage}if(b.gbHeight>0&&b.gbWidth>0&&isNaN(b.gbWidth)==false&&isNaN(b.gbHeight)==false){model.gbHeight=b.gbHeight;model.gbWidth=b.gbWidth}if(!CT.isnull(b.handImgSrc)){model.handImgSrc=b.handImgSrc}if(!CT.isnull(b.handWidth)&&isNaN(b.handWidth)==false){model.handWidth=b.handWidth}if(!CT.isnull(b.handHeight)&&isNaN(b.handHeight)==false){model.handHeight=b.handHeight}if(!CT.isnull(b.TempData)){model.TempData=b.TempData}if(!CT.isnull(b.focusType)&&isNaN(b.focusType)==false){model.FocusType=b.focusType}var diredemp=new Dire();if(!CT.isnull(b.other)){diredemp.other=b.other}if(!CT.isnull(b.left)){diredemp.left=b.left}if(!CT.isnull(b.right)){diredemp.right=b.right}if(!CT.isnull(b.up)){diredemp.up=b.up}if(!CT.isnull(b.down)){diredemp.down=b.down}if(!CT.isnull(b.upEvent)){diredemp.upEvent=b.upEvent}if(!CT.isnull(b.downEvent)){diredemp.downEvent=b.downEvent}if(!CT.isnull(b.leftEvent)){diredemp.leftEvent=b.leftEvent}if(!CT.isnull(b.rightEvent)){diredemp.rightEvent=b.rightEvent}if(!CT.isnull(b.upOther)){diredemp.upOther=b.upOther}if(!CT.isnull(b.downOther)){diredemp.downOther=b.downOther}if(!CT.isnull(b.leftOther)){diredemp.leftOther=b.leftOther}if(!CT.isnull(b.rightOther)){diredemp.rightOther=b.rightOther}if(!CT.isnull(diredemp.down)||!CT.isnull(diredemp.up)||!CT.isnull(diredemp.right)||!CT.isnull(diredemp.left)||!CT.isnull(diredemp.other)||!CT.isnull(diredemp.upEvent)||!CT.isnull(diredemp.downEvent)||!CT.isnull(diredemp.leftEvent)||!CT.isnull(diredemp.rightEvent)||!CT.isnull(diredemp.upOther)||!CT.isnull(diredemp.downOther)||!CT.isnull(diredemp.leftOther)||!CT.isnull(diredemp.rightOther)){focusDires[b.id+""]=diredemp}if(!CT.isnull(b.name)){model.name=b.name}if(!CT.isnull(b.otherFocusEvent)){model.otherFocusEvent=b.otherFocusEvent}if(!CT.isnull(b.otherBlurEvent)){model.otherBlurEvent=b.otherBlurEvent}if(!CT.isnull(b.tweenSpeed)){model.tweenSpeed=b.tweenSpeed}if(!CT.isnull(b.selectBorderId)){model.selectBorderId=b.selectBorderId}}}model.nodeObj=cur;cur.focusmodel=model;PAGE.focusArr.push(cur)}}}if(!CT.isnull(PAGE.focusArr)&&PAGE.focusArr.length>=1&&!CT.isnull(PAGE.focusArr[0].focusmodel)){curFocus=PAGE.focusArr[0].focusmodel}var version=CT.version()}function getDivNodeByFocusId(_focusId){if(CT.isnull(_focusId)){return null}for(var i=0;i<PAGE.focusArr.length;i++){if(PAGE.focusArr[i].id==_focusId){return PAGE.focusArr[i]}}}function getModelByFocusId(_focuId){if(CT.isnull(_focuId)||CT.isnull(PAGE.focusArr)){return null}for(var i=0;i<PAGE.focusArr.length;i++){if(PAGE.focusArr[i].id==_focuId){return PAGE.focusArr[i].focusmodel}}return null}function getFocusModel6(_focuId){if(CT.isnull(_focuId)){return null}var modelObj=getModelByFocusId(_focuId);return modelObj}var buttons=[];var curFocus=new FocusModel();function FocusModel(){this.name="";this.enable=true;this.enFocus=true;this.FocusID="";this.own=this;this.ParentNode=null;this.X_Posi=0;this.Y_Posi=0;this.EventUrl="";this.gbWidth=0;this.gbHeight=0;this.FocusType=2;this.handImgSrc="";this.handWidth="";this.handHeight="";
this.ImgSwap="";this.oldSwap="";this.ImgID="";this.dieArr=null;this.nodeObj=null;this.init=function(){this.own=getModelByFocusId(this.FocusID);if(this.ImgID){if(!CT.isnull(curFocus.interval)){clearInterval(curFocus.interval);curFocus.interval=null}}};this.TempData=null;this.otherFocusEvent="";this.otherBlurEvent="";this.defaultFocus=function(){if(this.enFocus){this.init();curFocus.defaultBlur();curFocus=this.own;if(this.FocusType==1){if(!CT.isnull(CT.$("gb"))){if(PAGE.gbInterval!=null){clearInterval(PAGE.gbInterval);PAGE.gbInterval=null}CT.$("gb").style.display="none";CT.$("gb").style.visibility="hidden"}moveHand(this.X_Posi,this.Y_Posi)}else{if(this.FocusType==2){if(!CT.isnull(CT.$("gb"))){if(PAGE.gbInterval!=null){clearInterval(PAGE.gbInterval);PAGE.gbInterval=null}CT.$("gb").style.display="none";CT.$("gb").style.visibility="hidden"}CT.changeImg(this.ImgID,this.ImgSwap)}else{if(this.FocusType==3){if(!CT.isnull(CT.$("gb"))){if(PAGE.gbInterval!=null){clearInterval(PAGE.gbInterval);PAGE.gbInterval=null}CT.$("gb").style.display="none";CT.$("gb").style.visibility="hidden"}moveHand(this.X_Posi,this.Y_Posi);CT.changeImg(this.ImgID,this.ImgSwap)}else{if(this.FocusType==4){if(!CT.isnull(CT.$("gb"))){if(PAGE.gbInterval!=null){clearInterval(PAGE.gbInterval);PAGE.gbInterval=null}CT.$("gb").style.display="none";CT.$("gb").style.visibility="hidden"}moveHand(this.X_Posi,this.Y_Posi);shangshuo()}else{if(this.FocusType==5){if(!CT.isnull(CT.$("gb"))){if(PAGE.gbInterval!=null){clearInterval(PAGE.gbInterval);PAGE.gbInterval=null}CT.$("gb").style.display="none";CT.$("gb").style.visibility="hidden"}shangshuo()}else{if(this.FocusType==6){if(!CT.isnull(CT.$("gb"))){if(PAGE.gbInterval!=null){clearInterval(PAGE.gbInterval);PAGE.gbInterval=null}CT.$("gb").style.display="none";CT.$("gb").style.visibility="hidden"}shangshuo2()}else{if(this.FocusType==7){if(!CT.isnull(CT.$("gb"))){if(PAGE.gbInterval!=null){clearInterval(PAGE.gbInterval);PAGE.gbInterval=null}CT.$("gb").style.display="none";CT.$("gb").style.visibility="hidden"}if(!CT.isnull(curFocus.ImgID)){CT.$(curFocus.ImgID).style.visibility="visible"}}else{if(this.FocusType==8){CT.$("gb").style.display="block";CT.$("gb").style.visibility="visible";if(!CT.isnull(curFocus.ImgID)){if(PAGE.gbInterval==null){gbshangshuo()}}gbMove()}else{if(this.FocusType==9){if(!CT.isnull(CT.$("gb"))){if(PAGE.gbInterval!=null){clearInterval(PAGE.gbInterval);PAGE.gbInterval=null}CT.$("gb").style.display="none";CT.$("gb").style.visibility="hidden"}if(this.tweenMoveInterval!=null){clearInterval(this.tweenMoveInterval);this.tweenMoveInterval=null;PAGE.displayDire=false}tweenMove()}else{if(this.FocusType==10){if(!CT.isnull(CT.$("gb"))){if(PAGE.gbInterval!=null){clearInterval(PAGE.gbInterval);PAGE.gbInterval=null}CT.$("gb").style.display="none";CT.$("gb").style.visibility="hidden"}if(this.tweenMoveInterval!=null){clearInterval(this.tweenMoveInterval);this.tweenMoveInterval=null;PAGE.displayDire=false}tweenMove()}}}}}}}}}}if(!CT.isnull(this.otherFocusEvent)){exeCode(this.otherFocusEvent)}}};this.defaultBlur=function(){if(this.enFocus){if(this.FocusType==2||this.FocusType==3||this.FocusType==4||this.FocusType==5||this.FocusType==6||this.FocusType==7||this.FocusType==8||this.FocusType==9||this.FocusType==10){if(this.FocusType==4||this.FocusType==5||this.FocusType==6){if(!CT.isnull(curFocus.interval)){clearInterval(curFocus.interval);curFocus.interval=null}if(this.FocusType==6){CT.$(curFocus.ImgID).style.visibility="hidden"}}if(this.FocusType==7){CT.$(curFocus.ImgID).style.visibility="hidden"}if(this.FocusType!=8&&this.FocusType!=7&&this.FocusType!=9){if(!CT.isnull(this.ImgID)&&!CT.isnull(this.oldSwap)){CT.changeImg(this.ImgID,this.oldSwap)}}if(this.FocusType==9){if(!CT.isnull(CT.$("tweenTable"))&&!CT.isnull(CT.$("tweenTableWidth"))&&!CT.isnull(CT.$("tweenTableHeight"))){var tweenTableObj=CT.$("tweenTable").style;tweenTableObj.visibility="hidden"}else{console.log("主人发现错误，移动边框未找到！！");return}}if(this.FocusType==10){if(CT.isnull(curFocus.selectBorderId)){console.log("发生错误，focuType等于10的时候，需要指定selectBorderId选中框的id!");return}var curSelectObj=CT.$(curFocus.selectBorderId);if(CT.isnull(curSelectObj)){console.log("发生错误，未找到【"+curFocus.selectBorderId+"】选中框对象！");return}curSelectObj.style.visibility="hidden"}}if(!CT.isnull(this.otherBlurEvent)){exeCode(this.otherBlurEvent)}}};this.OK=function(){if(this.enable==true&&this.enFocus==true){exeCode(this.EventUrl)}};this.interval=null;this.tweenMoveInterval=null;this.tweenNums=0;this.tweenSpeed=20;this.tweenTableWidth=null;this.tweenTableWidthOk=false;this.tweenTableHeight=null;this.tweenTableHeightOk=false;this.tweenTableWWidth=null;this.tweenTableWWidthOk=false;this.tweenTableHHeight=null;this.tweenTableHHeightOk=false;this.tweenTableTop=null;this.tweenTableTopOk=false;this.tweenTableLeft=null;this.tweenTableLeftOk=false;this.tweenTop=null;this.tweenTopOk=false;this.tweenLeft=null;this.tweenLeftOk=false;this.lastFocusId="";this.selectBorderId=""}function getCoo(_id){if(CT.isnull(_id)){return null
}var d1=_id;var x1=d1.indexOf("_",0);var x2=d1.indexOf("_",x1+1);var x3=d1.indexOf("_",x2+1);var x4=d1.indexOf("_",x3+1);var x5=d1.indexOf("_",x4+1);var x=d1.substring(x1+2,x2);var y=d1.substring(x2+2,x3);var imgsrc="";if(x4!=-1){imgsrc=d1.substring(x3+1,x4)}var par="";if(x5!=-1){par=d1.substring(x4+1,x5)}return new idList(x,y,imgsrc,par)}function idList(_x,_y,_imgsrc,_parentNode){this.x=_x;this.y=_y;this.imgsrc=_imgsrc;this.parentNode=_parentNode}function Dire(){this.up="";this.upOther="";this.right="";this.rightOther="";this.down="";this.downOther="";this.left="";this.leftOther="";this.other="";this.upEvent="";this.rightEvent="";this.downEvent="";this.leftEvent=""}function HandModel(_id,_x,_y,_u){this.handObj=CT.$(_id);this.x=_x;this.y=_y;this.enMaxMove=false;this.handImg=CT.$(PAGE.handimgid);PAGE.handimgheight=parseInt(this.handObj.style.height);PAGE.handimgwidth=parseInt(this.handObj.style.width);this.handImg.src=PAGE.handimgsrc1}function tweenMove(){if(!CT.isnull(curFocus)){var styleObj=CT.$(curFocus.FocusID).style;var curLeft=parseInt(styleObj.left);var curTop=parseInt(styleObj.top);var curWidth=parseInt(styleObj.width);var curHeight=parseInt(styleObj.height);if(curFocus.FocusType==9){if(!CT.isnull(curFocus.lastFocusId)){if(curWidth<PAGE.tweenTableMinWidth||curHeight<PAGE.tweenTableMinHeight){console.log("发现错误，foceType为9时宽高必须要大于等于67*69")}var lastNode=getModelByFocusId(curFocus.lastFocusId);var lastFocusTypeId=parseInt(lastNode.FocusType);if(lastFocusTypeId!=9&&lastFocusTypeId!=10){if(!CT.isnull(CT.$("tweenTable"))&&!CT.isnull(CT.$("tweenTableWidth"))&&!CT.isnull(CT.$("tweenTableHeight"))){var tweenTableObj=CT.$("tweenTable").style;tweenTableObj.visibility="visible";tweenTableObj.width=curWidth+"px";tweenTableObj.height=curHeight+"px";tweenTableObj.top=curTop+"px";tweenTableObj.left=curLeft+"px";var tweenTableWidthObj=CT.$("tweenTableWidth").style;tweenTableWidthObj.width=(curWidth-PAGE.tweenTableMinWidth)+"px";var tweenTableHeightObj=CT.$("tweenTableHeight").style;tweenTableHeightObj.height=(curHeight-PAGE.tweenTableMinHeight)+"px"}else{console.log("主人发现错误，移动边框未找到！！");return}}else{if(lastFocusTypeId==9){var tweenTableObjs=CT.$("tweenTable").style;tweenTableObjs.visibility="visible";var lastNodeObj=CT.$(lastNode.FocusID).style;var lastNodeTop=parseInt(lastNodeObj.top);var lastNodeLeft=parseInt(lastNodeObj.left);var lastNodeWidth=parseInt(lastNodeObj.width);var lastNodeHeight=parseInt(lastNodeObj.height);var lastNodeWWidth=lastNodeWidth-PAGE.tweenTableMinWidth;var lastNodeHHeight=lastNodeHeight-PAGE.tweenTableMinHeight;var topbl=curTop-lastNodeTop;var leftbl=curLeft-lastNodeLeft;var widthbl=curWidth-lastNodeWidth;var heightbl=curHeight-lastNodeHeight;var widthwbl=widthbl;var heighthbl=heightbl;curFocus.tweenTableTop=new TweenModel(0,lastNodeTop,topbl,curFocus.tweenSpeed);curFocus.tweenTableLeft=new TweenModel(0,lastNodeLeft,leftbl,curFocus.tweenSpeed);curFocus.tweenTableWidth=new TweenModel(0,lastNodeWidth,widthbl,curFocus.tweenSpeed);curFocus.tweenTableHeight=new TweenModel(0,lastNodeHeight,heightbl,curFocus.tweenSpeed);curFocus.tweenTableWWidth=new TweenModel(0,lastNodeWWidth,widthwbl,curFocus.tweenSpeed);curFocus.tweenTableHHeight=new TweenModel(0,lastNodeHHeight,heighthbl,curFocus.tweenSpeed);curFocus.tweenMoveInterval=setInterval(function(){var nu=parseInt(curFocus.tweenMoveInterval);if(!isNaN(nu)){var curFocus_=PAGE.intervalArr[nu+""];if(CT.isnull(curFocus_)){PAGE.intervalArr[nu+""]=curFocus}curFocus_=PAGE.intervalArr[nu+""];PAGE.displayDire=true;var tweenTableObj=CT.$("tweenTable").style;tweenTableObj.left=Math.ceil(Tween(curFocus_.tweenTableLeft.nums,curFocus_.tweenTableLeft.initalValue,curFocus_.tweenTableLeft.finishValue,curFocus_.tweenTableLeft.countValue))+"px";tweenTableObj.top=Math.ceil(Tween(curFocus_.tweenTableTop.nums,curFocus_.tweenTableTop.initalValue,curFocus_.tweenTableTop.finishValue,curFocus_.tweenTableTop.countValue))+"px";tweenTableObj.width=Math.ceil(Tween(curFocus_.tweenTableWidth.nums,curFocus_.tweenTableWidth.initalValue,curFocus_.tweenTableWidth.finishValue,curFocus_.tweenTableWidth.countValue))+"px";tweenTableObj.height=Math.ceil(Tween(curFocus_.tweenTableHeight.nums,curFocus_.tweenTableHeight.initalValue,curFocus_.tweenTableHeight.finishValue,curFocus_.tweenTableHeight.countValue))+"px";CT.$("tweenTableWidth").style.width=Math.ceil(Tween(curFocus_.tweenTableWWidth.nums,curFocus_.tweenTableWWidth.initalValue,curFocus_.tweenTableWWidth.finishValue,curFocus_.tweenTableWWidth.countValue))+"px";CT.$("tweenTableHeight").style.height=Math.ceil(Tween(curFocus_.tweenTableHHeight.nums,curFocus_.tweenTableHHeight.initalValue,curFocus_.tweenTableHHeight.finishValue,curFocus_.tweenTableHHeight.countValue))+"px";if(curFocus_.tweenTableLeft.nums<curFocus_.tweenTableLeft.countValue){curFocus_.tweenTableLeft.nums++;curFocus_.tweenTableLeftOk=false}else{curFocus_.tweenTableLeftOk=true}if(curFocus_.tweenTableTop.nums<curFocus_.tweenTableTop.countValue){curFocus_.tweenTableTop.nums++;curFocus_.tweenTableTopOk=false
}else{curFocus_.tweenTableTopOk=true}if(curFocus_.tweenTableWidth.nums<curFocus_.tweenTableWidth.countValue){curFocus_.tweenTableWidth.nums++;curFocus_.tweenTableWidthOk=false}else{curFocus_.tweenTableWidthOk=true}if(curFocus_.tweenTableHeight.nums<curFocus_.tweenTableHeight.countValue){curFocus_.tweenTableHeight.nums++;curFocus_.tweenTableHeightOk=false}else{curFocus_.tweenTableHeightOk=true}if(curFocus_.tweenTableWWidth.nums<curFocus_.tweenTableWWidth.countValue){curFocus_.tweenTableWWidth.nums++;curFocus_.tweenTableWWidthOk=false}else{curFocus_.tweenTableWWidthOk=true}if(curFocus_.tweenTableHHeight.nums<curFocus_.tweenTableHHeight.countValue){curFocus_.tweenTableHHeight.nums++;curFocus_.tweenTableHHeightOk=false}else{curFocus_.tweenTableHHeightOk=true}if(curFocus_.tweenTableTopOk==true&&curFocus_.tweenTableLeftOk==true&&curFocus_.tweenTableWidthOk==true&&curFocus_.tweenTableHeightOk==true&&curFocus_.tweenTableWWidthOk==true&&curFocus_.tweenTableHHeightOk==true){clearInterval(curFocus_.tweenMoveInterval);curFocus_.tweenMoveInterval=null;PAGE.displayDire=false}}else{clearInterval(curFocus.tweenMoveInterval);curFocus.tweenMoveInterval=null;PAGE.displayDire=false}},10)}else{if(lastFocusTypeId==10){var tweenTableObj_=CT.$("tweenTable").style;tweenTableObj_.visibility="visible";tweenTableObj_.width=PAGE.tweenTableMinWidth+50+"px";tweenTableObj_.height=PAGE.tweenTableMinHeight+50+"px";CT.$("tweenTableWidth").style.width="50"+"px";CT.$("tweenTableHeight").style.height="50"+"px";var lastDom=CT.$(lastNode.FocusID).style;var lastTop=parseInt(lastDom.top);var lastLeft=parseInt(lastDom.left);tweenTableObj_.top=lastTop+"px";tweenTableObj_.left=lastLeft+"px";var topbl=curTop-lastTop;var leftbl=curLeft-lastLeft;var widthbl=curWidth-PAGE.tweenTableMinWidth-50;var heightbl=curHeight-PAGE.tweenTableMinHeight-50;var widthwbl=widthbl;var heighthbl=heightbl;curFocus.tweenTableTop=new TweenModel(0,lastTop,topbl,curFocus.tweenSpeed);curFocus.tweenTableLeft=new TweenModel(0,lastLeft,leftbl,curFocus.tweenSpeed);curFocus.tweenTableWidth=new TweenModel(0,PAGE.tweenTableMinWidth+50,widthbl,curFocus.tweenSpeed);curFocus.tweenTableHeight=new TweenModel(0,PAGE.tweenTableMinHeight+50,heightbl,curFocus.tweenSpeed);curFocus.tweenTableWWidth=new TweenModel(0,50,widthwbl,curFocus.tweenSpeed);curFocus.tweenTableHHeight=new TweenModel(0,50,heighthbl,curFocus.tweenSpeed);curFocus.tweenMoveInterval=setInterval(function(){var nu=parseInt(curFocus.tweenMoveInterval);if(!isNaN(nu)){var curFocus_=PAGE.intervalArr[nu+""];if(CT.isnull(curFocus_)){PAGE.intervalArr[nu+""]=curFocus}curFocus_=PAGE.intervalArr[nu+""];PAGE.displayDire=true;var tweenTableObj=CT.$("tweenTable").style;tweenTableObj.left=Math.ceil(Tween(curFocus_.tweenTableLeft.nums,curFocus_.tweenTableLeft.initalValue,curFocus_.tweenTableLeft.finishValue,curFocus_.tweenTableLeft.countValue))+"px";tweenTableObj.top=Math.ceil(Tween(curFocus_.tweenTableTop.nums,curFocus_.tweenTableTop.initalValue,curFocus_.tweenTableTop.finishValue,curFocus_.tweenTableTop.countValue))+"px";tweenTableObj.width=Math.ceil(Tween(curFocus_.tweenTableWidth.nums,curFocus_.tweenTableWidth.initalValue,curFocus_.tweenTableWidth.finishValue,curFocus_.tweenTableWidth.countValue))+"px";tweenTableObj.height=Math.ceil(Tween(curFocus_.tweenTableHeight.nums,curFocus_.tweenTableHeight.initalValue,curFocus_.tweenTableHeight.finishValue,curFocus_.tweenTableHeight.countValue))+"px";CT.$("tweenTableWidth").style.width=Math.ceil(Tween(curFocus_.tweenTableWWidth.nums,curFocus_.tweenTableWWidth.initalValue,curFocus_.tweenTableWWidth.finishValue,curFocus_.tweenTableWWidth.countValue))+"px";CT.$("tweenTableHeight").style.height=Math.ceil(Tween(curFocus_.tweenTableHHeight.nums,curFocus_.tweenTableHHeight.initalValue,curFocus_.tweenTableHHeight.finishValue,curFocus_.tweenTableHHeight.countValue))+"px";if(curFocus_.tweenTableLeft.nums<curFocus_.tweenTableLeft.countValue){curFocus_.tweenTableLeft.nums++;curFocus_.tweenTableLeftOk=false}else{curFocus_.tweenTableLeftOk=true}if(curFocus_.tweenTableTop.nums<curFocus_.tweenTableTop.countValue){curFocus_.tweenTableTop.nums++;curFocus_.tweenTableTopOk=false}else{curFocus_.tweenTableTopOk=true}if(curFocus_.tweenTableWidth.nums<curFocus_.tweenTableWidth.countValue){curFocus_.tweenTableWidth.nums++;curFocus_.tweenTableWidthOk=false}else{curFocus_.tweenTableWidthOk=true}if(curFocus_.tweenTableHeight.nums<curFocus_.tweenTableHeight.countValue){curFocus_.tweenTableHeight.nums++;curFocus_.tweenTableHeightOk=false}else{curFocus_.tweenTableHeightOk=true}if(curFocus_.tweenTableWWidth.nums<curFocus_.tweenTableWWidth.countValue){curFocus_.tweenTableWWidth.nums++;curFocus_.tweenTableWWidthOk=false}else{curFocus_.tweenTableWWidthOk=true}if(curFocus_.tweenTableHHeight.nums<curFocus_.tweenTableHHeight.countValue){curFocus_.tweenTableHHeight.nums++;curFocus_.tweenTableHHeightOk=false}else{curFocus_.tweenTableHHeightOk=true}if(curFocus_.tweenTableTopOk==true&&curFocus_.tweenTableLeftOk==true&&curFocus_.tweenTableWidthOk==true&&curFocus_.tweenTableHeightOk==true&&curFocus_.tweenTableWWidthOk==true&&curFocus_.tweenTableHHeightOk==true){clearInterval(curFocus_.tweenMoveInterval);
curFocus_.tweenMoveInterval=null;PAGE.displayDire=false}}else{clearInterval(curFocus.tweenMoveInterval);curFocus.tweenMoveInterval=null;PAGE.displayDire=false}},10)}}}}else{if(!CT.isnull(CT.$("tweenTable"))&&!CT.isnull(CT.$("tweenTableWidth"))&&!CT.isnull(CT.$("tweenTableHeight"))){var tweenTableObj=CT.$("tweenTable").style;tweenTableObj.visibility="visible";tweenTableObj.width=curWidth+"px";tweenTableObj.height=curHeight+"px";tweenTableObj.top=curTop+"px";tweenTableObj.left=curLeft+"px";var tweenTableWidthObj=CT.$("tweenTableWidth").style;tweenTableWidthObj.width=(curWidth-PAGE.tweenTableMinWidth)+"px";var tweenTableHeightObj=CT.$("tweenTableHeight").style;tweenTableHeightObj.height=(curHeight-PAGE.tweenTableMinHeight)+"px"}else{console.log("发现错误，移动边框未找到！！");return}}}else{if(curFocus.FocusType==10){if(CT.isnull(curFocus.selectBorderId)){console.log("发生错误，focuType等于10的时候，需要指定selectBorderId选中框的id!");return}var curSelectObj=CT.$(curFocus.selectBorderId);if(CT.isnull(curSelectObj)){console.log("发生错误，未找到【"+curFocus.selectBorderId+"】选中框对象！");return}curSelectObj.style.visibility="visible";if(!CT.isnull(curFocus.lastFocusId)){var lastNode=getModelByFocusId(curFocus.lastFocusId);var lastFocusTypeId=parseInt(lastNode.FocusType);if(lastFocusTypeId==10){var curSelectBorderId=curFocus.selectBorderId;var lastSelectBorderId=lastNode.selectBorderId;if(curSelectBorderId!=lastSelectBorderId){var lastNodeObj=CT.$(lastNode.FocusID).style;var lastNodeTop=parseInt(lastNodeObj.top);var lastNodeLeft=parseInt(lastNodeObj.left);curSelectObj.style.top=lastNodeTop+"px";curSelectObj.style.left=lastNodeLeft+"px";var topbh=curTop-lastNodeTop;var leftbh=curLeft-lastNodeLeft;curFocus.tweenTop=new TweenModel(0,lastNodeTop,topbh,curFocus.tweenSpeed);curFocus.tweenLeft=new TweenModel(0,lastNodeLeft,leftbh,curFocus.tweenSpeed);curFocus.tweenMoveInterval=setInterval(function(){var nu=parseInt(curFocus.tweenMoveInterval);if(!isNaN(nu)){var curFocus_=PAGE.intervalArr[nu+""];if(CT.isnull(curFocus_)){PAGE.intervalArr[nu+""]=curFocus}curFocus_=PAGE.intervalArr[nu+""];PAGE.displayDire=true;var sele=CT.$(curFocus_.selectBorderId).style;sele.top=Math.ceil(Tween(curFocus_.tweenTop.nums,curFocus_.tweenTop.initalValue,curFocus_.tweenTop.finishValue,curFocus_.tweenTop.countValue))+"px";sele.left=Math.ceil(Tween(curFocus_.tweenLeft.nums,curFocus_.tweenLeft.initalValue,curFocus_.tweenLeft.finishValue,curFocus_.tweenLeft.countValue))+"px";if(curFocus_.tweenTop.nums<curFocus_.tweenTop.countValue){curFocus_.tweenTop.nums++;curFocus_.tweenTopOk=false}else{curFocus_.tweenTopOk=true}if(curFocus_.tweenLeft.nums<curFocus_.tweenLeft.countValue){curFocus_.tweenLeft.nums++;curFocus_.tweenLeftOk=false}else{curFocus_.tweenLeftOk=true}if(curFocus_.tweenLeftOk==true&&curFocus_.tweenTopOk==true){clearInterval(curFocus_.tweenMoveInterval);curFocus_.tweenMoveInterval=null;PAGE.displayDire=false}}else{clearInterval(curFocus.tweenMoveInterval);curFocus.tweenMoveInterval=null;PAGE.displayDire=false}},10)}else{var lastNodeObj=CT.$(lastNode.FocusID).style;var lastNodeTop=parseInt(lastNodeObj.top);var lastNodeLeft=parseInt(lastNodeObj.left);var topbh=curTop-lastNodeTop;var leftbh=curLeft-lastNodeLeft;curFocus.tweenTop=new TweenModel(0,lastNodeTop,topbh,curFocus.tweenSpeed);curFocus.tweenLeft=new TweenModel(0,lastNodeLeft,leftbh,curFocus.tweenSpeed);curFocus.tweenMoveInterval=setInterval(function(){var nu=parseInt(curFocus.tweenMoveInterval);if(!isNaN(nu)){var curFocus_=PAGE.intervalArr[nu+""];if(CT.isnull(curFocus_)){PAGE.intervalArr[nu+""]=curFocus}curFocus_=PAGE.intervalArr[nu+""];PAGE.displayDire=true;var sele=CT.$(curFocus_.selectBorderId).style;sele.top=Math.ceil(Tween(curFocus_.tweenTop.nums,curFocus_.tweenTop.initalValue,curFocus_.tweenTop.finishValue,curFocus_.tweenTop.countValue))+"px";sele.left=Math.ceil(Tween(curFocus_.tweenLeft.nums,curFocus_.tweenLeft.initalValue,curFocus_.tweenLeft.finishValue,curFocus_.tweenLeft.countValue))+"px";if(curFocus_.tweenTop.nums<curFocus_.tweenTop.countValue){curFocus_.tweenTop.nums++;curFocus_.tweenTopOk=false}else{curFocus_.tweenTopOk=true}if(curFocus_.tweenLeft.nums<curFocus_.tweenLeft.countValue){curFocus_.tweenLeft.nums++;curFocus_.tweenLeftOk=false}else{curFocus_.tweenLeftOk=true}if(curFocus_.tweenLeftOk==true&&curFocus_.tweenTopOk==true){clearInterval(curFocus_.tweenMoveInterval);curFocus_.tweenMoveInterval=null;PAGE.displayDire=false}}else{clearInterval(curFocus.tweenMoveInterval);curFocus.tweenMoveInterval=null;PAGE.displayDire=false}},10)}}else{if(lastFocusTypeId!=10&&lastFocusTypeId!=9){curSelectObj.style.top=curTop+"px";curSelectObj.style.left=curLeft+"px"}else{if(lastFocusTypeId==9){var lastDom=CT.$(lastNode.FocusID).style;var lastTop=parseInt(lastDom.top);var lastLeft=parseInt(lastDom.left);curSelectObj.style.left=lastLeft+"px";curSelectObj.style.top=lastTop+"px";var leftbl=curLeft-lastLeft;var topbl=curTop-lastTop;curFocus.tweenTop=new TweenModel(0,lastTop,topbl,curFocus.tweenSpeed);curFocus.tweenLeft=new TweenModel(0,lastLeft,leftbl,curFocus.tweenSpeed);
curFocus.tweenMoveInterval=setInterval(function(){var nu=parseInt(curFocus.tweenMoveInterval);if(!isNaN(nu)){var curFocus_=PAGE.intervalArr[nu+""];if(CT.isnull(curFocus_)){PAGE.intervalArr[nu+""]=curFocus}curFocus_=PAGE.intervalArr[nu+""];PAGE.displayDire=true;var sele=CT.$(curFocus_.selectBorderId).style;sele.top=Math.ceil(Tween(curFocus_.tweenTop.nums,curFocus_.tweenTop.initalValue,curFocus_.tweenTop.finishValue,curFocus_.tweenTop.countValue))+"px";sele.left=Math.ceil(Tween(curFocus_.tweenLeft.nums,curFocus_.tweenLeft.initalValue,curFocus_.tweenLeft.finishValue,curFocus_.tweenLeft.countValue))+"px";if(curFocus_.tweenTop.nums<curFocus_.tweenTop.countValue){curFocus_.tweenTop.nums++;curFocus_.tweenTopOk=false}else{curFocus_.tweenTopOk=true}if(curFocus_.tweenLeft.nums<curFocus_.tweenLeft.countValue){curFocus_.tweenLeft.nums++;curFocus_.tweenLeftOk=false}else{curFocus_.tweenLeftOk=true}if(curFocus_.tweenLeftOk==true&&curFocus_.tweenTopOk==true){clearInterval(curFocus_.tweenMoveInterval);curFocus_.tweenMoveInterval=null;PAGE.displayDire=false}}else{clearInterval(curFocus.tweenMoveInterval);curFocus.tweenMoveInterval=null;PAGE.displayDire=false}},10)}}}}else{curSelectObj.style.top=curTop+"px";curSelectObj.style.left=curLeft+"px"}}}}}function TweenModel(t_,b_,c_,d_){this.nums=t_;this.initalValue=b_;this.finishValue=c_;this.countValue=d_}function Tween(t,b,c,d){var s=1.70158;return t*c/d+b}function upFocusObj(){var bl=true;for(var it in focusDires){if(curFocus.FocusID==it){var d=focusDires[it];if(!CT.isnull(d.upEvent)){exeCode(d.upEvent);bl=false;return}else{if(!CT.isnull(d.up)){if(d.up=="disable"){bl=false;return}var nextNode=getModelByFocusId(d.up);if(nextNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}else{if(nextNode.enFocus==false&&!CT.isnull(d.upOther)){var otherNode=getModelByFocusId(d.upOther);if(otherNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=otherNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}}}}else{if(!CT.isnull(d.other)){if(d.other=="disable"){bl=false;return}var nextNode=getModelByFocusId(d.other);if(nextNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}}}}}}if(bl){var curNode=null;for(var i=0;i<PAGE.focusArr.length;i++){if(curFocus.FocusID==PAGE.focusArr[i].id){curNode=PAGE.focusArr[i];break}}var x=parseInt(curNode.style.left);var y=parseInt(curNode.style.top);var curPar=curFocus.ParentNode;if(!CT.isnull(curPar)){x=x+parseInt(curPar.style.left);y=y+parseInt(curPar.style.top)}var curCoo=new FunCoo(x,y);var upNodeArr=new Array();for(var i=0;i<PAGE.focusArr.length;i++){var j=PAGE.focusArr[i];var top=parseInt(j.style.top);var left=parseInt(j.style.left);var npar=j.focusmodel.ParentNode;if(!CT.isnull(npar)){left=left+parseInt(npar.style.left);top=top+parseInt(npar.style.top)}if(j.focusmodel.enFocus==true&&top<y){upNodeArr.push(j)}}var nextNode=null;var maxNextNode=null;var bl=true;var minjl=0;var maxjl=0;if(upNodeArr.length>0){for(var i=0;i<upNodeArr.length;i++){var nextCoo=new FunCoo(parseInt(upNodeArr[i].style.left),parseInt(upNodeArr[i].style.top));var jl=distanceCAL(curCoo,nextCoo);if(bl){minjl=jl;maxjl=jl;nextNode=upNodeArr[i];maxNextNode=upNodeArr[i];bl=false}if(jl<minjl){nextNode=upNodeArr[i];minjl=jl}if(jl>maxjl){maxNextNode=upNodeArr[i];maxjl=jl}}curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode.focusmodel;curFocus.lastFocusId=fid;curFocus.defaultFocus()}}}function downFocusObj(){var bl=true;for(var it in focusDires){if(curFocus.FocusID==it){var d=focusDires[it];if(!CT.isnull(d.downEvent)){exeCode(d.downEvent);bl=false;return}else{if(!CT.isnull(d.down)){if(d.down=="disable"){bl=false;return}var nextNode=getModelByFocusId(d.down);if(nextNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}else{if(nextNode.enFocus==false&&!CT.isnull(d.downOther)){var otherNode=getModelByFocusId(d.downOther);if(otherNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=otherNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}}}}else{if(!CT.isnull(d.other)){if(d.other=="disable"){bl=false;return}var nextNode=getModelByFocusId(d.other);if(nextNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}}}}}}if(bl){var curNode=null;for(var i=0;i<PAGE.focusArr.length;i++){if(curFocus.FocusID==PAGE.focusArr[i].id){curNode=PAGE.focusArr[i];break}}var x=parseInt(curNode.style.left);var y=parseInt(curNode.style.top);var curPar=curFocus.ParentNode;if(!CT.isnull(curPar)){x=x+parseInt(curPar.style.left);y=y+parseInt(curPar.style.top)}var curCoo=new FunCoo(x,y);var upNodeArr=new Array();for(var i=0;i<PAGE.focusArr.length;i++){var j=PAGE.focusArr[i];
var top=parseInt(j.style.top);var left=parseInt(j.style.left);var npar=j.focusmodel.ParentNode;if(!CT.isnull(npar)){left=left+parseInt(npar.style.left);top=top+parseInt(npar.style.top)}if(j.focusmodel.enFocus==true&&top>y){upNodeArr.push(j)}}var nextNode=null;var maxNextNode=null;var bl=true;var minjl=0;var maxjl=0;if(upNodeArr.length>0){for(var i=0;i<upNodeArr.length;i++){var nextCoo=new FunCoo(parseInt(upNodeArr[i].style.left),parseInt(upNodeArr[i].style.top));var jl=distanceCAL(curCoo,nextCoo);if(bl){minjl=jl;maxjl=jl;nextNode=upNodeArr[i];maxNextNode=upNodeArr[i];bl=false}if(jl<minjl){nextNode=upNodeArr[i];minjl=jl}if(jl>maxjl){maxNextNode=upNodeArr[i];maxjl=jl}}curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode.focusmodel;curFocus.lastFocusId=fid;curFocus.defaultFocus()}}}function leftFocusObj(){var bl=true;for(var it in focusDires){if(curFocus.FocusID==it){var d=focusDires[it];if(!CT.isnull(d.leftEvent)){exeCode(d.leftEvent);bl=false;return}else{if(!CT.isnull(d.left)){if(d.left=="disable"){bl=false;return}var nextNode=getModelByFocusId(d.left);if(nextNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}else{if(nextNode.enFocus==false&&!CT.isnull(d.leftOther)){curFocus.defaultBlur();var otherNode=getModelByFocusId(d.leftOther);if(otherNode.enFocus==true){var fid=curFocus.FocusID;curFocus=otherNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}}}}else{if(!CT.isnull(d.other)){if(d.other=="disable"){bl=false;return}var nextNode=getModelByFocusId(d.other);if(nextNode.enFocus==true){curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode;curFocus.lastFocusId=fid;curFocus.defaultFocus();bl=false;return}}}}}}if(bl){var curNode=null;for(var i=0;i<PAGE.focusArr.length;i++){if(curFocus.FocusID==PAGE.focusArr[i].id){curNode=PAGE.focusArr[i];break}}var x=parseInt(curNode.style.left);var y=parseInt(curNode.style.top);var curPar=curFocus.ParentNode;if(!CT.isnull(curPar)){x=x+parseInt(curPar.style.left);y=y+parseInt(curPar.style.top)}var curCoo=new FunCoo(x,y);var upNodeArr=new Array();for(var i=0;i<PAGE.focusArr.length;i++){var j=PAGE.focusArr[i];var top=parseInt(j.style.top);var left=parseInt(j.style.left);var npar=j.focusmodel.ParentNode;if(!CT.isnull(npar)){left=left+parseInt(npar.style.left);top=top+parseInt(npar.style.top)}if(j.focusmodel.enFocus==true&&left<x){upNodeArr.push(j)}}var nextNode=null;var maxNextNode=null;var bl=true;var minjl=0;var maxjl=0;if(upNodeArr.length>0){for(var i=0;i<upNodeArr.length;i++){var nextCoo=new FunCoo(parseInt(upNodeArr[i].style.left),parseInt(upNodeArr[i].style.top));var jl=distanceCAL(curCoo,nextCoo);if(bl){minjl=jl;maxjl=jl;nextNode=upNodeArr[i];maxNextNode=upNodeArr[i];bl=false}if(jl<minjl){nextNode=upNodeArr[i];minjl=jl}if(jl>maxjl){maxNextNode=upNodeArr[i];maxjl=jl}}curFocus.defaultBlur();var fid=curFocus.FocusID;curFocus=nextNode.focusmodel;curFocus.lastFocusId=fid;curFocus.defaultFocus()}}}function moveHand(x,y){curHand.x=x;curHand.y=y;curHand.handObj.style.top=curHand.y+"px";curHand.handObj.style.left=curHand.x+"px";curHand.handImg.src=PAGE.handimgsrc1;if(!CT.getBrowVersion("EIS iPanel 2.0")){curHand.handObj.style.height=PAGE.handimgheight+"px";curHand.handObj.style.width=PAGE.handimgwidth+"px"}if(!CT.isnull(curFocus.handImgSrc)){curHand.handImg.src=curFocus.handImgSrc;if(!CT.isnull(curFocus.handHeight)){if(!CT.getBrowVersion("EIS iPanel 2.0")){curHand.handObj.style.height=curFocus.handHeight+"px";curHand.handImg.height=curFocus.handHeight}}if(!CT.isnull(curFocus.handWidth)){if(!CT.getBrowVersion("EIS iPanel 2.0")){curHand.handObj.style.width=curFocus.handWidth+"px";curHand.handImg.width=curFocus.handWidth}}}return curHand}function shangshuo2(){curFocus.interval=setInterval(function(){if(!CT.isnull(curFocus.ImgID)){if(CT.$(curFocus.ImgID).style.visibility=="visible"){CT.$(curFocus.ImgID).style.visibility="hidden"}else{if(CT.$(curFocus.ImgID).style.visibility=="hidden"){CT.$(curFocus.ImgID).style.visibility="visible"}else{CT.$(curFocus.ImgID).style.visibility="visible"}}}},800)}function shangshuo(){curFocus.interval=setInterval(function(){if(!CT.isnull(curFocus.ImgSwap)){if(CT.$(curFocus.ImgID).src==curFocus.oldSwap){CT.$(curFocus.ImgID).src=curFocus.ImgSwap}else{CT.$(curFocus.ImgID).src=curFocus.oldSwap}}},10)}function exeCode(_code){if(CT.isnull(_code)){return}var code=_code;try{if(code.indexOf("javascript:")>-1){code=code.replace("javascript:","");setTimeout(code,0)}else{redirect(code)}}catch(e){console.log("执行代码出错！")}}function pageRedirect(url){if(CT.isnull(url)){return}if(curFocus.enable==true){curFocus.enable=false;window.location.href=url;return}};